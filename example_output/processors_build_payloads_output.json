2025-08-26 18:23:17 - src.governmentreporter.processors.build_payloads - WARNING - Failed to parse date 'invalid-date', using current year
2025-08-26 18:23:17 - src.governmentreporter.processors.build_payloads - WARNING - Failed to parse date '', using current year
2025-08-26 18:23:17 - src.governmentreporter.processors.build_payloads - INFO - Processing document test_payload_001 (Supreme Court Opinion)
2025-08-26 18:23:17 - src.governmentreporter.processors.chunking - INFO - Chunked Supreme Court opinion into 2 chunks across 2 sections
2025-08-26 18:23:17 - src.governmentreporter.processors.llm_extraction - ERROR - Failed to extract SCOTUS metadata: Completions.create() got an unexpected keyword argument 'max_completion_tokens'
2025-08-26 18:23:17 - src.governmentreporter.processors.build_payloads - INFO - Generated 2 payloads for SCOTUS opinion test_payload_001
{
  "extract_year_from_date": {
    "method": "extract_year_from_date()",
    "result": {
      "2024-01-15": 2024,
      "2024/01/15": 2024,
      "2024-13-45": 2024,
      "invalid-date": 2025,
      "": 2025,
      "None": "Skipped None value"
    }
  },
  "normalize_scotus_metadata": {
    "method": "normalize_scotus_metadata()",
    "result": {
      "document_id": "test_scotus_001",
      "title": "Sample v. Test Case",
      "publication_date": "2024-05-16",
      "year": 2024,
      "source": "CourtListener",
      "type": "Supreme Court Opinion",
      "url": "https://example.com/opinion",
      "citation_bluebook": "601 U.S. 100 (2024)",
      "case_name": "Sample v. Test Case",
      "opinion_type": "majority"
    }
  },
  "normalize_eo_metadata": {
    "method": "normalize_eo_metadata()",
    "result": {
      "document_id": "test_eo_001",
      "title": "Test Executive Order",
      "publication_date": "2025-06-11",
      "year": 2025,
      "source": "Federal Register",
      "type": "Executive Order",
      "url": "https://example.com/eo",
      "citation_bluebook": "90 FR 10000",
      "eo_number": "99999"
    }
  },
  "validate_payload": {
    "method": "validate_payload()",
    "result": {
      "valid_payload": true,
      "invalid_payload_0": false,
      "invalid_payload_1": false,
      "invalid_payload_2": false,
      "invalid_payload_3": false,
      "invalid_payload_4": false
    }
  },
  "build_payloads_from_document": {
    "method": "build_payloads_from_document()",
    "result": {
      "total_payloads": 2,
      "sample_payloads": [
        {
          "id": "test_payload_001_chunk_0",
          "text_preview": "SYLLABUS\n\nTest syllabus content.",
          "metadata_keys": [
            "document_id",
            "title",
            "publication_date",
            "year",
            "source",
            "type",
            "url",
            "citation_bluebook",
            "case_name",
            "opinion_type",
            "plain_language_summary",
            "constitution_cited",
            "federal_statutes_cited",
            "federal_regulations_cited",
            "cases_cited",
            "topics_or_policy_areas",
            "holding_plain",
            "outcome_simple",
            "issue_plain",
            "reasoning",
            "chunk_id",
            "chunk_index",
            "section_label"
          ],
          "is_valid": true
        },
        {
          "id": "test_payload_001_chunk_1",
          "text_preview": "JUSTICE TEST delivered the opinion of the Court.\n\nTest opinion content.",
          "metadata_keys": [
            "document_id",
            "title",
            "publication_date",
            "year",
            "source",
            "type",
            "url",
            "citation_bluebook",
            "case_name",
            "opinion_type",
            "plain_language_summary",
            "constitution_cited",
            "federal_statutes_cited",
            "federal_regulations_cited",
            "cases_cited",
            "topics_or_policy_areas",
            "holding_plain",
            "outcome_simple",
            "issue_plain",
            "reasoning",
            "chunk_id",
            "chunk_index",
            "section_label"
          ],
          "is_valid": true
        }
      ]
    }
  }
}
